<!DOCTYPE html>
<html>
<head><title>Authenticating...</title></head>
<body>
  <p>Redirecting, please wait...</p>

  <script>
    const hashParams = new URLSearchParams(window.location.hash.substring(1));
    const type = hashParams.get('type');
    const access_token = hashParams.get('access_token');
    const error = hashParams.get('error_description');

    if (error) {
      window.location.href = "https://mantum.tech/error";
    } else if (type === 'signup') {
      window.location.href = "https://mantum.tech/emailcomf";
    } else if (type === 'recovery') {
      // You can optionally store token in sessionStorage
      sessionStorage.setItem("access_token", access_token);
      window.location.href = "https://mantumtech.github.io/reset-password/";
    } else {
      window.location.href = "https://mantum.tech/error";
    }
  </script>
</body>
</html>
